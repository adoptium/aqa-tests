<?xml version='1.0' encoding='UTF-8'?>
<!--
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<playlist xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation="../../TKG/resources/playlist.xsd">
     <test>
          <testCaseName>jtreg-buffer</testCaseName>
          <disables>
               <disable>
                    <comment>readlink -f is known to misbehave on selected platforms</comment>
                    <platform>^.*(s390x_linux|aarch64_mac).*$</platform>
               </disable>
          </disables>
          <command>
               JTREG_HOME="$(TEST_RESROOT)$(D)jtreg" \
               $(TEST_ROOT)$(D)functional$(D)jtreg-buffer$(D)jtreg-buffer$(D)run.sh "$(TEST_JDK_HOME)" ; $(TEST_STATUS)
          </command>
          <levels>
               <level>dev</level>
          </levels>
          <groups>
               <group>functional</group>
          </groups>
     </test>
     <test>
          <testCaseName>jtreg-buffer_jtreg</testCaseName>
          <disables>
               <disable>
                    <comment>readlink -f is known to misbehave on selected platforms</comment>
                    <platform>^((?!(s390x_linux|aarch64_mac)).)*$</platform>
               </disable>
          </disables>
          <command>
              $(JAVA_COMMAND) -Xmx512m -jar $(Q)$(TEST_RESROOT)$(D)jtreg$(D)lib$(D)jtreg.jar$(Q) \
              -xml -v1 -a -ignore:quiet  -timeoutFactor:2 \
              -w $(Q)$(REPORTDIR)$(D)work$(Q) \
              -r $(Q)$(REPORTDIR)$(D)report$(Q) \
              -jdk:$(Q)$(TEST_JDK_HOME)$(Q) \
              $(Q)$(TEST_ROOT)$(D)functional$(D)jtreg-buffer$(D)jtreg-buffer$(Q); \
              $(TEST_STATUS)
          </command>
          <levels>
               <level>dev</level>
          </levels>
          <groups>
               <group>functional</group>
          </groups>
     </test>
</playlist>